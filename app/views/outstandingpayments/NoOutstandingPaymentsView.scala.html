@*
 * Copyright 2024 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import _root_.utils.DateTimeUtils._
@import config.FrontendAppConfig
@import views.ViewUtils._
@import views.html.components.gds._
@import views.html.templates.Layout

@this(
        layout: Layout,
        govukButton: GovukButton,
        h1: heading,
        h2: HeadingH2,
        paragraphBody: paragraphBody,
        paragraphMessageWithLink: ParagraphMessageWithLink
)
@(plrReference: String)(implicit request: Request[_], appConfig: FrontendAppConfig, messages: Messages, isAgent: Boolean)

@layout(pageTitle = titleNoForm(messages("payments.noOutstanding.title")), twoThirdsPagelayout = false, bannerUrl = Some(routes.HomepageController.onPageLoad().url)) {

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            @h1(messages("payments.noOutstanding.heading"))
            @h2(messages("payments.outstanding.amountDue", formatAmount(BigDecimal(0))), size = "m")

            @paragraphBody(userTypeDependentText(
                messages("payments.outstanding.p1"),
                messages("payments.outstanding.p1")
            ))

            @paragraphBody(userTypeDependentText(
                messages("payments.outstanding.p2"),
                messages("payments.outstanding.agent.p2")
            ))

            @govukButton(
                ButtonViewModel(
                    messages("payments.outstanding.pay.buttonText")
                ).asLink(controllers.payments.routes.MakeAPaymentDashboardController.onRedirect().url))

            @h2(messages("payments.outstanding.otherWaysToPay.heading"), size = "m")
            @paragraphBody(
                userTypeDependentText(
                    messages("payments.outstanding.otherWaysToPay.p1", plrReference),
                    messages("payments.outstanding.otherWaysToPay.agent.p1", plrReference)
                )
            )
            @paragraphBody(
                userTypeDependentText(
                    messages("payments.outstanding.otherWaysToPay.p2"),
                    messages("payments.outstanding.otherWaysToPay.agent.p2")
                )
            )
            @paragraphMessageWithLink(
                linkMessage = messages("payments.outstanding.otherWaysToPay.linkText"),
                linkUrl = appConfig.howToPayPillar2TaxesUrl,
                target = "_blank"
            )
        </div>
    </div>

    @h2(messages("payments.outstanding.details.heading"), size = "m")
    @paragraphBody(messages("payments.outstanding.details.nothingDue"), classes = "govuk-body govuk-!-margin-bottom-8 govuk-!-margin-top-7")

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            @h2(messages("transactionHistory.title"), size = "m")
            @paragraphBody(messages("payments.outstanding.transactionHistory.p1"))
            @paragraphBody(messages("payments.outstanding.transactionHistory.p2"))
            @paragraphMessageWithLink(
                linkMessage = messages("homepage.payments.transactionHistory.linkText"),
                linkUrl = routes.TransactionHistoryController.onPageLoadTransactionHistory(None).url
            )

            @h2(messages("payments.outstanding.penaltiesAndCharges.heading"), size = "m")
            @paragraphBody(
                userTypeDependentText(
                    messages("payments.outstanding.penaltiesAndCharges.p1"),
                    messages("payments.outstanding.penaltiesAndCharges.agent.p1")
                )
            )
            @paragraphMessageWithLink(
                linkMessage = messages("payments.outstanding.penaltiesAndCharges.linkText"),
                linkUrl = appConfig.penaltiesInformationUrl,
                target = "_blank"
            )
        </div>
    </div>
}

