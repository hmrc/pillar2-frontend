@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import config.FrontendAppConfig
@this(
    layout: templates.Layout,
    formHelper: FormWithCSRF,
    govukButton: GovukButton
)


@(upeNoIDStatus:String="NotStarted", counter: Int, filingMemberStatus:String="not started", groupDetailStatus:String="notStarted",contactDetailsStatus:String="NotStarted", cyaStatus:String="NotStarted")(implicit request: Request[_], appConfig: FrontendAppConfig, messages: Messages)

@layout(
    pageTitle    = titleNoForm(messages("task-list.title")),
    showBackLink = false
) {

        <h1 class="govuk-heading-l">@messages("task-list.heading")</h1>
        <p class="govuk-body govuk-!-margin-bottom-5">@messages("taskList.paragraph")</p>
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">@messages("taskList.subheading.complete")</h2>
        <p class="govuk-body govuk-!-margin-bottom-7">@messages("taskList.completedSections", counter)</p>


        <ol class="app-task-list">
            <li>
                <h2 class="app-task-list__section">
                    <span class="app-task-list__section-number">1. </span>
                    @messages("taskList.task.business.heading")
                </h2>
                <ul class="app-task-list__items">
                    <li class="app-task-list__item">
                        <span class="app-task-list__task-name">
                          @if(upeNoIDStatus == "Completed"){
                              <a href="/report-pillar2-top-up-taxes/business-matching/match-hmrc-records" aria-describedby="eligibility-status">
                                 @messages("taskList.task.business.ultimate.edit")
                              </a>
                            } else {
                                <a href="/report-pillar2-top-up-taxes/business-matching/match-hmrc-records" aria-describedby="eligibility-status">
                                 @messages("taskList.task.business.ultimate.add")
                                </a>
                            }
                        </span>
                        @if(upeNoIDStatus == "Completed"){
                        <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(upeNoIDStatus.equals("InProgress")) {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else  {
                        <span class="hmrc-status-tag"> @messages("task.status.notStarted") </span>
                        }
                    </li>
                    @if(upeNoIDStatus == "Completed"){
                    <li class="app-task-list__item">
                         <span class="app-task-list__task-name">
                             @if(filingMemberStatus == "Completed"){
                                <a href="/report-pillar2-top-up-taxes/business-matching/filing-member/nominate" aria-describedby="nfm-status">
                                @messages("taskList.task.business.filingMember.edit")
                                </a>
                            } else {
                                <a href="/report-pillar2-top-up-taxes/business-matching/filing-member/nominate" aria-describedby="nfm-status">
                                @messages("taskList.task.business.filingMember.add")
                                </a>
                            }
                        </span>
                        @if(filingMemberStatus == "Completed"){
                        <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(filingMemberStatus == "InProgress") {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else  {
                        <span class="hmrc-status-tag"  id="submit-pay-status-co">
                            @messages("task.status.notStarted")</span>
                        }
                    </li>
                    } else{
                    <li class="app-task-list__item">
                        <span class="app-task-list__task-name">
                            @messages("taskList.task.business.filingMember")
                        </span>
                        @if(filingMemberStatus == "Completed"){
                            <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(filingMemberStatus == "InProgress") {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else  {
                        <span class="hmrc-status-tag" id="submit-pay-status-uc">
                            @messages("task.status.cannotStartYet")</span>
                        }
                    </li>
                    }

                    <li class="app-task-list__item">
                        <span class="app-task-list__task-name">
                          @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" ){
                              <a href="/report-pillar2-top-up-taxes/further-details/group-status" aria-describedby="eligibility-status">
                                 @messages("taskList.task.business.sub.edit")
                              </a>
                            } else if (filingMemberStatus == "Completed" &&  ( groupDetailStatus=="NotStarted" ||  groupDetailStatus=="InProgress")){
                                <a href="/report-pillar2-top-up-taxes/further-details/group-status" aria-describedby="eligibility-status">
                                 @messages("taskList.task.business.sub.add")
                                </a>
                            } else {
                             @messages("taskList.task.business.more")
                            }
                        </span>
                        @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" ){
                        <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(filingMemberStatus == "Completed" &&  groupDetailStatus=="InProgress" ) {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else if(filingMemberStatus == "Completed" && groupDetailStatus=="NotStarted" ) {
                        <span class="hmrc-status-tag"> @messages("task.status.notStarted") </span>
                        } else  {
                        <span class="hmrc-status-tag"> @messages("task.status.cannotStartYet") </span>
                        }
                    </li>

                </ul>
            </li>

            <li>
                <h2 class="app-task-list__section">
                    <span class="app-task-list__section-number">2. </span>
                    @messages("taskList.task.contact.heading")
                </h2>
                <ul class="app-task-list__items">
                    <li class="app-task-list__item">
                        <span class="app-task-list__task-name">
                          @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" && contactDetailsStatus=="Completed"){
                              <a href="/report-pillar2-top-up-taxes/contact-details/content" aria-describedby="eligibility-status">
                                 @messages("taskList.task.contact.edit")
                              </a>
                            } else if (filingMemberStatus == "Completed" && groupDetailStatus=="Completed" && ( contactDetailsStatus=="NotStarted" ||  contactDetailsStatus=="InProgress")){
                                <a href="/report-pillar2-top-up-taxes/contact-details/content" aria-describedby="eligibility-status">
                                 @messages("taskList.task.contact.add")
                                </a>
                            } else {
                             @messages("taskList.task.contact")
                            }
                        </span>
                        @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" && contactDetailsStatus=="Completed" ){
                        <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(filingMemberStatus == "Completed" &&  groupDetailStatus=="Completed" && contactDetailsStatus=="InProgress"   ) {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else if(filingMemberStatus == "Completed" && groupDetailStatus == "Completed" && contactDetailsStatus == "NotStarted") {
                        <span class="hmrc-status-tag"> @messages("task.status.notStarted") </span>
                        } else  {
                        <span class="hmrc-status-tag"> @messages("task.status.cannotStartYet") </span>
                        }
                    </li>
                </ul>
            </li>

            <li>
                <h2 class="app-task-list__section">
                    <span class="app-task-list__section-number">3. </span>
                    @messages("taskList.task.review.heading")
                </h2>

                <ul class="app-task-list__items">
                    <li class="app-task-list__item">
                        <span class="app-task-list__task-name">
                          @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" && contactDetailsStatus=="Completed"){
                              <a href="/report-pillar2-top-up-taxes/review-submit/check-answers" aria-describedby="eligibility-status">
                                 @messages("taskList.task.review")
                              </a>
                            } else {
                             @messages("taskList.task.review")
                            }
                        </span>
                        @if(filingMemberStatus == "Completed" && groupDetailStatus=="Completed" && contactDetailsStatus=="Completed" && cyaStatus =="Completed" ){
                        <span class="hmrc-status-tag" > @messages("task.status.completed") </span>
                        } else if(filingMemberStatus == "Completed" &&  groupDetailStatus=="Completed" && contactDetailsStatus=="Completed" && cyaStatus == "InProgress" ) {
                        <span class="hmrc-status-tag"> @messages("task.status.inProgress") </span>
                        } else if(filingMemberStatus == "Completed" && groupDetailStatus == "Completed" && contactDetailsStatus == "Completed" && cyaStatus == "NotStarted") {
                        <span class="hmrc-status-tag"> @messages("task.status.notStarted") </span>
                        } else  {
                        <span class="hmrc-status-tag"> @messages("task.status.cannotStartYet") </span>
                        }
                    </li>
                </ul>
            </li>
        </ol>


}
